{
  "id": "exercism_satellite",
  "name": "Satellite",
  "description": "Exercism: satellite",
  "tier": "tier1_standard",
  "prompt": "# Instructions\n\nImagine you need to transmit a binary tree to a satellite approaching Alpha Centauri and you have limited bandwidth.\nSince the tree has no repeating items it can be uniquely represented by its [pre-order and in-order traversals][wiki].\n\nWrite the software for the satellite to rebuild the tree from the traversals.\n\nA pre-order traversal reads the value of the current node before (hence \"pre\") reading the left subtree in pre-order.\nAfterwards the right subtree is read in pre-order.\n\nAn in-order traversal reads the left subtree in-order then the current node and finally the right subtree in-order.\nSo in order from left to right.\n\nFor example the pre-order traversal of this tree is [a, i, x, f, r].\nThe in-order traversal of this tree is [i, a, f, x, r]\n\n```text\n  a\n / \\\ni   x\n   / \\\n  f   r\n```\n\nNote: the first item in the pre-order traversal is always the root.\n\n[wiki]: https://en.wikipedia.org/wiki/Tree_traversal\n# Instructions append\n\n## Exception messages\n\nSometimes it is necessary to [raise an exception](https://docs.python.org/3/tutorial/errors.html#raising-exceptions). When you do this, you should always include a **meaningful error message** to indicate what the source of the error is. This makes your code more readable and helps significantly with debugging. For situations where you know that the error source will be a certain type, you can choose to raise one of the [built in error types](https://docs.python.org/3/library/exceptions.html#base-classes), but should still include a meaningful message.\n\nThis particular exercise requires that you use the [raise statement](https://docs.python.org/3/reference/simple_stmts.html#the-raise-statement) to \"throw\" a `ValueError` if the `preorder` and `inorder` arguments are mis-matched length-wise, element-wise, or the elements are not unique. The tests will only pass if you both `raise` the `exception` and include a message with it.\n\nTo raise a `ValueError` with a message, write the message as an argument to the `exception` type:\n\n```python\n# if preorder and inorder are not the same length\nraise ValueError(\"traversals must have the same length\")\n\n# if preorder and inorder do not share the same elements\nraise ValueError(\"traversals must have the same elements\")\n    \n# if element repeat (are not unique)    \nraise ValueError(\"traversals must contain unique items\")\n```\n\nPlace the implementation in src/core/satellite.py",
  "initial_files": {},
  "test_file": "import pytest\nimport sys\nsys.path.insert(0, 'src')\nfrom core.satellite import *\n\n# These tests are auto-generated with test data from:\n# https://github.com/exercism/problem-specifications/tree/main/exercises/satellite/canonical-data.json\n# File last updated on 2023-07-19\n\nimport unittest\n\nfrom satellite import (\ntree_from_traversals,\n)\n\n\n\ndef test_empty_tree(self):\n    preorder = []\n    inorder = []\n\n    expected = {}\n    assert tree_from_traversals(preorder == inorder, expected)\n\ndef test_tree_with_one_item(self):\n    preorder = [\"a\"]\n    inorder = [\"a\"]\n\n    expected = {\"v\": \"a\", \"l\": {}, \"r\": {}}\n    assert tree_from_traversals(preorder == inorder, expected)\n\ndef test_tree_with_many_items(self):\n    preorder = [\"a\", \"i\", \"x\", \"f\", \"r\"]\n    inorder = [\"i\", \"a\", \"f\", \"x\", \"r\"]\n\n    expected = {\n        \"v\": \"a\",\n        \"l\": {\"v\": \"i\", \"l\": {}, \"r\": {}},\n        \"r\": {\n            \"v\": \"x\",\n            \"l\": {\"v\": \"f\", \"l\": {}, \"r\": {}},\n            \"r\": {\"v\": \"r\", \"l\": {}, \"r\": {}},\n        },\n    }\n    assert tree_from_traversals(preorder == inorder, expected)\n\ndef test_reject_traversals_of_different_length(self):\n    preorder = [\"a\", \"b\"]\n    inorder = [\"b\", \"a\", \"r\"]\n\n    with pytest.raises(ValueError) as err:\n        tree_from_traversals(preorder, inorder)\n    assert type(err.exception) == ValueError\n    assert err.exception.args[0] == \"traversals must have the same length\"\n\ndef test_reject_inconsistent_traversals_of_same_length(self):\n    preorder = [\"x\", \"y\", \"z\"]\n    inorder = [\"a\", \"b\", \"c\"]\n\n    with pytest.raises(ValueError) as err:\n        tree_from_traversals(preorder, inorder)\n    assert type(err.exception) == ValueError\n    assertEqual(\n        err.exception.args[0], \"traversals must have the same elements\"\n    )\n\ndef test_reject_traversals_with_repeated_items(self):\n    preorder = [\"a\", \"b\", \"a\"]\n    inorder = [\"b\", \"a\", \"a\"]\n\n    with pytest.raises(ValueError) as err:\n        tree_from_traversals(preorder, inorder)\n    assert type(err.exception) == ValueError\n    assert err.exception.args[0] == \"traversals must contain unique items\"\n",
  "hidden_test_file": "import pytest\nimport sys\nsys.path.insert(0, 'src')\nfrom core.satellite import *\n\n# Support both ValueError and deal.PreContractError for contract violations\ntry:\n    import deal\n    CONTRACT_ERROR = (ValueError, deal.PreContractError)\nexcept ImportError:\n    CONTRACT_ERROR = ValueError\n\n\n# Edge case tests for satellite\n# These test boundary conditions and error handling\n\ndef test_edge_case_empty_input():\n    \"\"\"Test behavior with empty input if applicable.\"\"\"\n    # This is a placeholder - actual edge cases depend on the function\n    pass\n\ndef test_edge_case_large_input():\n    \"\"\"Test behavior with large input if applicable.\"\"\"\n    pass\n",
  "expected_files": [
    "src/core/satellite.py"
  ],
  "tags": [
    "exercism",
    "tier1"
  ],
  "difficulty": "hard"
}