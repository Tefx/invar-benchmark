{
  "id": "exercism_crypto_square",
  "name": "Crypto Square",
  "description": "Exercism: crypto_square",
  "tier": "tier1_standard",
  "prompt": "# Instructions\n\nImplement the classic method for composing secret messages called a square code.\n\nGiven an English text, output the encoded version of that text.\n\nFirst, the input is normalized: the spaces and punctuation are removed from the English text and the message is down-cased.\n\nThen, the normalized characters are broken into rows.\nThese rows can be regarded as forming a rectangle when printed with intervening newlines.\n\nFor example, the sentence\n\n```text\n\"If man was meant to stay on the ground, god would have given us roots.\"\n```\n\nis normalized to:\n\n```text\n\"ifmanwasmeanttostayonthegroundgodwouldhavegivenusroots\"\n```\n\nThe plaintext should be organized into a rectangle as square as possible.\nThe size of the rectangle should be decided by the length of the message.\n\nIf `c` is the number of columns and `r` is the number of rows, then for the rectangle `r` x `c` find the smallest possible integer `c` such that:\n\n- `r * c >= length of message`,\n- and `c >= r`,\n- and `c - r <= 1`.\n\nOur normalized text is 54 characters long, dictating a rectangle with `c = 8` and `r = 7`:\n\n```text\n\"ifmanwas\"\n\"meanttos\"\n\"tayonthe\"\n\"groundgo\"\n\"dwouldha\"\n\"vegivenu\"\n\"sroots  \"\n```\n\nThe coded message is obtained by reading down the columns going left to right.\n\nThe message above is coded as:\n\n```text\n\"imtgdvsfearwermayoogoanouuiontnnlvtwttddesaohghnsseoau\"\n```\n\nOutput the encoded text in chunks that fill perfect rectangles `(r X c)`, with `c` chunks of `r` length, separated by spaces.\nFor phrases that are `n` characters short of the perfect rectangle, pad each of the last `n` chunks with a single trailing space.\n\n```text\n\"imtgdvs fearwer mayoogo anouuio ntnnlvt wttddes aohghn  sseoau \"\n```\n\nNotice that were we to stack these, we could visually decode the ciphertext back in to the original message:\n\n```text\n\"imtgdvs\"\n\"fearwer\"\n\"mayoogo\"\n\"anouuio\"\n\"ntnnlvt\"\n\"wttddes\"\n\"aohghn \"\n\"sseoau \"\n```\n\nPlace the implementation in src/core/crypto_square.py",
  "initial_files": {},
  "test_file": "import pytest\nimport sys\nsys.path.insert(0, 'src')\nfrom core.crypto_square import *\n\n# These tests are auto-generated with test data from:\n# https://github.com/exercism/problem-specifications/tree/main/exercises/crypto-square/canonical-data.json\n# File last updated on 2023-07-19\n\nimport unittest\n\nfrom crypto_square import (\ncipher_text,\n)\n\n\n\ndef test_empty_plaintext_results_in_an_empty_ciphertext(self):\n    value = \"\"\n    expected = \"\"\n    assert cipher_text(value) == expected\n\ndef test_normalization_results_in_empty_plaintext(self):\n    value = \"... --- ...\"\n    expected = \"\"\n    assert cipher_text(value) == expected\n\ndef test_lowercase(self):\n    value = \"A\"\n    expected = \"a\"\n    assert cipher_text(value) == expected\n\ndef test_remove_spaces(self):\n    value = \"  b \"\n    expected = \"b\"\n    assert cipher_text(value) == expected\n\ndef test_remove_punctuation(self):\n    value = \"@1,%!\"\n    expected = \"1\"\n    assert cipher_text(value) == expected\n\ndef test_9_character_plaintext_results_in_3_chunks_of_3_characters(self):\n    value = \"This is fun!\"\n    expected = \"tsf hiu isn\"\n    assert cipher_text(value) == expected\n\ndef test_8_character_plaintext_results_in_3_chunks_the_last_one_with_a_trailing_space(\n    self,\n):\n    value = \"Chill out.\"\n    expected = \"clu hlt io \"\n    assert cipher_text(value) == expected\n\ndef test_54_character_plaintext_results_in_7_chunks_the_last_two_with_trailing_spaces(\n    self,\n):\n    value = \"If man was meant to stay on the ground, god would have given us roots.\"\n    expected = \"imtgdvs fearwer mayoogo anouuio ntnnlvt wttddes aohghn  sseoau \"\n    assert cipher_text(value) == expected\n",
  "hidden_test_file": "import pytest\nimport sys\nsys.path.insert(0, 'src')\nfrom core.crypto_square import *\n\n# Support both ValueError and deal.PreContractError for contract violations\ntry:\n    import deal\n    CONTRACT_ERROR = (ValueError, deal.PreContractError)\nexcept ImportError:\n    CONTRACT_ERROR = ValueError\n\n\n# Edge case tests for crypto_square\n# These test boundary conditions and error handling\n\ndef test_edge_case_empty_input():\n    \"\"\"Test behavior with empty input if applicable.\"\"\"\n    # This is a placeholder - actual edge cases depend on the function\n    pass\n\ndef test_edge_case_large_input():\n    \"\"\"Test behavior with large input if applicable.\"\"\"\n    pass\n",
  "expected_files": [
    "src/core/crypto_square.py"
  ],
  "tags": [
    "exercism",
    "tier1"
  ],
  "difficulty": "hard"
}