{
  "id": "exercism_queen_attack",
  "name": "Queen Attack",
  "description": "Exercism: queen_attack",
  "tier": "tier1_standard",
  "prompt": "# Instructions\n\nGiven the position of two queens on a chess board, indicate whether or not they are positioned so that they can attack each other.\n\nIn the game of chess, a queen can attack pieces which are on the same row, column, or diagonal.\n\nA chessboard can be represented by an 8 by 8 array.\n\nSo if you are told the white queen is at `c5` (zero-indexed at column 2, row 3) and the black queen at `f2` (zero-indexed at column 5, row 6), then you know that the set-up is like so:\n\n![A chess board with two queens. Arrows emanating from the queen at c5 indicate possible directions of capture along file, rank and diagonal.](https://assets.exercism.org/images/exercises/queen-attack/queen-capture.svg)\n\nYou are also able to answer whether the queens can attack each other.\nIn this case, that answer would be yes, they can, because both pieces share a diagonal.\n\n## Credit\n\nThe chessboard image was made by [habere-et-dispertire][habere-et-dispertire] using LaTeX and the [chessboard package][chessboard-package] by Ulrike Fischer.\n\n[habere-et-dispertire]: https://exercism.org/profiles/habere-et-dispertire\n[chessboard-package]: https://github.com/u-fischer/chessboard\n# Instructions append\n\n## Exception messages\n\nSometimes it is necessary to [raise an exception](https://docs.python.org/3/tutorial/errors.html#raising-exceptions). When you do this, you should always include a **meaningful error message** to indicate what the source of the error is. This makes your code more readable and helps significantly with debugging. For situations where you know that the error source will be a certain type, you can choose to raise one of the [built in error types](https://docs.python.org/3/library/exceptions.html#base-classes), but should still include a meaningful message.\n\nThis particular exercise requires that you use the [raise statement](https://docs.python.org/3/reference/simple_stmts.html#the-raise-statement) to \"throw\" `ValueErrors` if the `Queen` constructor is passed numbers that are negative, or numbers that are not a valid row or column.  The tests will only pass if you both `raise` the `exception` and include a message with it. You also should `raise` a `ValueError` if both the queens passed to the `can_attack()` method are on the same location.\n\nTo raise a `ValueError` with a message, write the message as an argument to the `exception` type:\n\n```python\n# if the row parameter is negative\nraise ValueError(\"row not positive\")\n\n# if the row parameter is not on the defined board\nraise ValueError(\"row not on board\")\n\n# if the column parameter is negative\nraise ValueError(\"column not positive\")\n\n# if the column parameter is not on the defined board\nraise ValueError(\"column not on board\")\n\n# if both the queens are on the same location\nraise ValueError(\"Invalid queen position: both queens in the same square\")\n```\n\nPlace the implementation in src/core/queen_attack.py",
  "initial_files": {},
  "test_file": "import pytest\nimport sys\nsys.path.insert(0, 'src')\nfrom core.queen_attack import *\n\n# These tests are auto-generated with test data from:\n# https://github.com/exercism/problem-specifications/tree/main/exercises/queen-attack/canonical-data.json\n# File last updated on 2023-07-19\n\nimport unittest\n\nfrom queen_attack import (\nQueen,\n)\n\n\n\n# Test creation of Queens with valid and invalid positions\ndef test_queen_with_a_valid_position():\n    Queen(2, 2)\n\ndef test_queen_must_have_positive_row():\n    with pytest.raises(ValueError) as err:\n        Queen(-2, 2)\n    assert type(err.exception) == ValueError\n    assert err.exception.args[0] == \"row not positive\"\n\ndef test_queen_must_have_row_on_board():\n    with pytest.raises(ValueError) as err:\n        Queen(8, 4)\n    assert type(err.exception) == ValueError\n    assert err.exception.args[0] == \"row not on board\"\n\ndef test_queen_must_have_positive_column():\n    with pytest.raises(ValueError) as err:\n        Queen(2, -2)\n    assert type(err.exception) == ValueError\n    assert err.exception.args[0] == \"column not positive\"\n\ndef test_queen_must_have_column_on_board():\n    with pytest.raises(ValueError) as err:\n        Queen(4, 8)\n    assert type(err.exception) == ValueError\n    assert err.exception.args[0] == \"column not on board\"\n\n# Test the ability of one queen to attack another\ndef test_cannot_attack():\n    assertIs(Queen(2, 4).can_attack(Queen(6, 6)), False)\n\ndef test_can_attack_on_same_row():\n    assertIs(Queen(2, 4).can_attack(Queen(2, 6)), True)\n\ndef test_can_attack_on_same_column():\n    assertIs(Queen(4, 5).can_attack(Queen(2, 5)), True)\n\ndef test_can_attack_on_first_diagonal():\n    assertIs(Queen(2, 2).can_attack(Queen(0, 4)), True)\n\ndef test_can_attack_on_second_diagonal():\n    assertIs(Queen(2, 2).can_attack(Queen(3, 1)), True)\n\ndef test_can_attack_on_third_diagonal():\n    assertIs(Queen(2, 2).can_attack(Queen(1, 1)), True)\n\ndef test_can_attack_on_fourth_diagonal():\n    assertIs(Queen(1, 7).can_attack(Queen(0, 6)), True)\n\ndef test_cannot_attack_if_falling_diagonals_are_only_the_same_when_reflected_across_the_longest_falling_diagonal(\n    self,\n):\n    assertIs(Queen(4, 1).can_attack(Queen(2, 5)), False)\n\n# Track-specific tests\ndef test_queens_same_position_can_attack():\n    with pytest.raises(ValueError) as err:\n        Queen(2, 2).can_attack(Queen(2, 2))\n    assert type(err.exception) == ValueError\n    assertEqual(\n        err.exception.args[0],\n        \"Invalid queen position: both queens in the same square\",\n    )\n",
  "hidden_test_file": "import pytest\nimport sys\nsys.path.insert(0, 'src')\nfrom core.queen_attack import *\n\n# Support both ValueError and deal.PreContractError for contract violations\ntry:\n    import deal\n    CONTRACT_ERROR = (ValueError, deal.PreContractError)\nexcept ImportError:\n    CONTRACT_ERROR = ValueError\n\n\n# Edge case tests for queen_attack\n# These test boundary conditions and error handling\n\ndef test_edge_case_empty_input():\n    \"\"\"Test behavior with empty input if applicable.\"\"\"\n    # This is a placeholder - actual edge cases depend on the function\n    pass\n\ndef test_edge_case_large_input():\n    \"\"\"Test behavior with large input if applicable.\"\"\"\n    pass\n",
  "expected_files": [
    "src/core/queen_attack.py"
  ],
  "tags": [
    "exercism",
    "tier1"
  ],
  "difficulty": "hard"
}