{
  "id": "exercism_error_handling",
  "name": "Error Handling",
  "description": "Exercism: error_handling",
  "tier": "tier1_standard",
  "prompt": "# Instructions\n\nImplement various kinds of error handling and resource management.\n\nAn important point of programming is how to handle errors and close resources even if errors occur.\n\nThis exercise requires you to handle various errors.\nBecause error handling is rather programming language specific you'll have to refer to the tests for your track to see what's exactly required.\n# Hints\n\nFor the `filelike_objects_are_closed_on_exception` function, the `filelike_object`\nwill be an instance of a custom `FileLike` class defined in the test suite. This\nclass implements the following methods:\n- `open` and `close`, for explicit opening and closing.\n- `__enter__` and `__exit__`, for implicit opening and closing.\n- `do_something`, which may or may not throw an `Exception`.\n\nPlace the implementation in src/core/error_handling.py",
  "initial_files": {},
  "test_file": "import pytest\nimport sys\nsys.path.insert(0, 'src')\nfrom core.error_handling import *\n\nimport unittest\n\nimport error_handling as er\n\nclass FileLike:\ndef __init__(self, fail_something=True):\n    is_open = False\n    was_open = False\n    did_something = False\n    fail_something = fail_something\n\ndef open(self):\n    was_open = False\n    is_open = True\n\ndef close(self):\n    is_open = False\n    was_open = True\n\ndef __enter__(self):\n    open()\n    return self\n\ndef __exit__(self, *args):\n    close()\n\ndef do_something(self):\n    did_something = True\n    if fail_something:\n        raise Exception(\"Failed while doing something\")\n\n\ndef test_throw_exception(self):\n    with assertRaisesWithMessage(Exception):\n        er.handle_error_by_throwing_exception()\n\ndef test_return_none(self):\n    assert er.handle_error_by_returning_none('1'), 1 == 'Result of valid input should not be None'\n    assertIsNone(er.handle_error_by_returning_none('a'),\n                      'Result of invalid input should be None')\n\ndef test_return_tuple(self):\n    successful_result, result = er.handle_error_by_returning_tuple('1')\n    assertIs(successful_result, True,\n                  'Valid input should be successful')\n    assert result == 1, 'Result of valid input should not be None'\n\n    failure_result, result = er.handle_error_by_returning_tuple('a')\n    assertIs(failure_result, False,\n                  'Invalid input should not be successful')\n\ndef test_filelike_objects_are_closed_on_exception(self):\n    filelike_object = FileLike(fail_something=True)\n    with assertRaisesWithMessage(Exception):\n        er.filelike_objects_are_closed_on_exception(filelike_object)\n    assertIs(filelike_object.is_open, False,\n                  'filelike_object should be closed')\n    assertIs(filelike_object.was_open, True,\n                  'filelike_object should have been opened')\n    assertIs(filelike_object.did_something, True,\n                  'filelike_object should call do_something()')\n\ndef test_filelike_objects_are_closed_without_exception(self):\n    filelike_object = FileLike(fail_something=False)\n    er.filelike_objects_are_closed_on_exception(filelike_object)\n    assertIs(filelike_object.is_open, False,\n                  'filelike_object should be closed')\n    assertIs(filelike_object.was_open, True,\n                  'filelike_object should have been opened')\n    assertIs(filelike_object.did_something, True,\n                  'filelike_object should call do_something()')\n\n# Utility functions\ndef assertRaisesWithMessage(self, exception):\n    return assertRaisesRegex(exception, r\".+\")\n\n\nif __name__ == '__main__':\nunittest.main()\n",
  "hidden_test_file": "import pytest\nimport sys\nsys.path.insert(0, 'src')\nfrom core.error_handling import *\n\n# Support both ValueError and deal.PreContractError for contract violations\ntry:\n    import deal\n    CONTRACT_ERROR = (ValueError, deal.PreContractError)\nexcept ImportError:\n    CONTRACT_ERROR = ValueError\n\n\n# Edge case tests for error_handling\n# These test boundary conditions and error handling\n\ndef test_edge_case_empty_input():\n    \"\"\"Test behavior with empty input if applicable.\"\"\"\n    # This is a placeholder - actual edge cases depend on the function\n    pass\n\ndef test_edge_case_large_input():\n    \"\"\"Test behavior with large input if applicable.\"\"\"\n    pass\n",
  "expected_files": [
    "src/core/error_handling.py"
  ],
  "tags": [
    "exercism",
    "tier1"
  ],
  "difficulty": "medium"
}