{
  "id": "exercism_collatz_conjecture",
  "name": "Collatz Conjecture",
  "description": "Exercism: collatz_conjecture",
  "tier": "tier1_standard",
  "prompt": "# Instructions\n\nThe Collatz Conjecture or 3x+1 problem can be summarized as follows:\n\nTake any positive integer n.\nIf n is even, divide n by 2 to get n / 2.\nIf n is odd, multiply n by 3 and add 1 to get 3n + 1.\nRepeat the process indefinitely.\nThe conjecture states that no matter which number you start with, you will always reach 1 eventually.\n\nGiven a number n, return the number of steps required to reach 1.\n\n## Examples\n\nStarting with n = 12, the steps would be as follows:\n\n0. 12\n1. 6\n2. 3\n3. 10\n4. 5\n5. 16\n6. 8\n7. 4\n8. 2\n9. 1\n\nResulting in 9 steps.\nSo for input n = 12, the return value would be 9.\n# Instructions append\n\n## Exception messages\n\nSometimes it is necessary to [raise an exception](https://docs.python.org/3/tutorial/errors.html#raising-exceptions). When you do this, you should always include a **meaningful error message** to indicate what the source of the error is. This makes your code more readable and helps significantly with debugging. For situations where you know that the error source will be a certain type, you can choose to raise one of the [built in error types](https://docs.python.org/3/library/exceptions.html#base-classes), but should still include a meaningful message.\n\nThe Collatz Conjecture is only concerned with **strictly positive integers**, so this exercise expects you to use the [raise statement](https://docs.python.org/3/reference/simple_stmts.html#the-raise-statement) and \"throw\" a `ValueError` in your solution if the given value is zero or a negative integer. The tests will only pass if you both `raise` the `exception` and include a message with it.\n\nTo raise a `ValueError` with a message, write the message as an argument to the `exception` type:\n\n```python\n# example when argument is zero or a negative integer\nraise ValueError(\"Only positive integers are allowed\")\n```\n\nPlace the implementation in src/core/collatz_conjecture.py",
  "initial_files": {},
  "test_file": "import pytest\nimport sys\nsys.path.insert(0, 'src')\nfrom core.collatz_conjecture import *\n\n# These tests are auto-generated with test data from:\n# https://github.com/exercism/problem-specifications/tree/main/exercises/collatz-conjecture/canonical-data.json\n# File last updated on 2023-07-20\n\nimport unittest\n\nfrom collatz_conjecture import (\nsteps,\n)\n\n\n\ndef test_zero_steps_for_one(self):\n    assert steps(1) == 0\n\ndef test_divide_if_even(self):\n    assert steps(16) == 4\n\ndef test_even_and_odd_steps(self):\n    assert steps(12) == 9\n\ndef test_large_number_of_even_and_odd_steps(self):\n    assert steps(1000000) == 152\n\ndef test_zero_is_an_error(self):\n    with pytest.raises(ValueError) as err:\n        steps(0)\n    assert type(err.exception) == ValueError\n    assert err.exception.args[0] == \"Only positive integers are allowed\"\n\ndef test_negative_value_is_an_error(self):\n    with pytest.raises(ValueError) as err:\n        steps(-15)\n    assert type(err.exception) == ValueError\n    assert err.exception.args[0] == \"Only positive integers are allowed\"\n",
  "hidden_test_file": "import pytest\nimport sys\nsys.path.insert(0, 'src')\nfrom core.collatz_conjecture import *\n\n# Support both ValueError and deal.PreContractError for contract violations\ntry:\n    import deal\n    CONTRACT_ERROR = (ValueError, deal.PreContractError)\nexcept ImportError:\n    CONTRACT_ERROR = ValueError\n\n\n# Edge case tests for collatz_conjecture\n# These test boundary conditions and error handling\n\ndef test_edge_case_empty_input():\n    \"\"\"Test behavior with empty input if applicable.\"\"\"\n    # This is a placeholder - actual edge cases depend on the function\n    pass\n\ndef test_edge_case_large_input():\n    \"\"\"Test behavior with large input if applicable.\"\"\"\n    pass\n",
  "expected_files": [
    "src/core/collatz_conjecture.py"
  ],
  "tags": [
    "exercism",
    "tier1"
  ],
  "difficulty": "hard"
}